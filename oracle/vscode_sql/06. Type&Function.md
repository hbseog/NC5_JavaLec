# 1.오라클의 자료형과 함수
## 1. 오라클의 자료형
1. VARCHAR2(바이트단위의 길이) : 4000byte만큼의 가변 길이 문자열 데이터를 저장할 수 있다.
2. CHAR(길이) : 1byte 문자로 사용을 주로 하며 플래그로 주로 사용된다.(탈퇴여부(Y/N), 승인여부(Y/N),...)
3. NUMBER(전체자리수)- 정수, NUMBER(전체자리수, 소수점뒤자리수)-소수 : 최대 38자리까지 지정가능한 숫자타입, 전체자리수로 숫자의 전체자리수가 정해지고 소수점 뒤 자리수에 따라 소수점뒤의 숫자의 개수가 정해진다.
4. DATE : 날짜 형식을 저장하기 위해 사용하는 자료형, 연,월,일,시,분,초 저장이 가능하다. SYSDATE(현재의 날짜와 시간정보를 제공해주는 상수)
5. BLOB : 최대 4GB의 대용량 이진 데이터를 저장할 수 있다.
6. CLOB : 최대 4GB의 대용량 텍스트를 저장할 수 있다.
    - BLOB, CLOB은 예전에 파일업로드 시 파일자체를 이진데이터나 텍스트로 변환하여 저장을 했었는데 DB 서버가 해킹당하거나 불의의사고로 데이터 손실이 발생하면 파일들도 다 삭제되기 때문에 요즘은 파일은 파일서버에 따로 관리하고 DB에는 그 파일의 경로, 파일명을 저장해서 함께 불러오는 방식을 사용한다.
7. BFILE : 최대 4GB의 대용량 이진 데이터 파일(.bin)을 저장할 수 있다.

## 2. 오라클의 객체
1. 테이블(table) : 데이터가 저장되는 장소.
2. 인덱스(index) : 테이블의 검색속도를 높이기 위해서 사용하는 객체. 인덱스로 지정된 컬럼 기준으로 검색이 되기 때문에 속도가 높아진다.
3. 뷰(view) : 하나나 여러개의 테이블의 데이터들을 논리적으로 연결해서 하나의 테이블처럼 만들어주는 객체. 테이블의 데이터를 참조해서 논리적인 가상테이블을 DB에 생성해준다.
4. 시퀀스(sequence) : 일련번호를 만들어주는 객체. 주로 일련번호를 만들어서 PK(Primary Key)로 사용된다.
5. 시노님(synonym) : 오라클 객체 별칭을 붙여주는 객체.
6. 프로시저(procedure) : 프로그래밍 연산 및 기능 수행이 가능한 객체(반환 값 없음)
7. 함수(function) : 프로그래밍 연산 및 기능 수행이 가능한 객체(반환 값 있음)
8. 패키지(package) : 관련있는 프로시저와 함수의 집합
9. 트리거(trigger) :  데이터 관련 작업의 연결 및 방지 관련 기능을 제공하는 객체

## 3. PL/SQL
1. DBMS에서는 데이터를 관리하기 위한 별도의 프로그래밍 언어를 제공하는데 그것을 PL/SQL(Procdural Lanaguage extension to SQL)이라고 한다.
2. PL/SQL을 사용하면 DBMS에서도 변수, 조건문, 반복문 등 프로그램밍 언어에서 제공하는 문법들을 사용하여 데이터 관리를 할 수 있게 된다.

## 4. 함수
1. 오라클에서는 SQL 쿼리문을 효율적으로 작성할 수 있도록 도움을 주는 함수들을 제공하고 있다.
2. 오라클의 함수는 단일행함수, 그룹함수로 분류 할 수 있다.
3. 단일행 함수는 데이터가 한 행 입력될 때 한 행당 결과가 하나씩 나오는 함수. TO_DATE, LOWER, CONCAT, SUBSTR....
4. 그룹함수는 특정컬럼을 그룹화하여 계산을 할 수 있게 제공되는 함수. SUM, COUNT, AVG....

## 5. 단일행 함수
1. 문자 함수, 숫자 함수, 날짜 함수, 변환 함수, 일반 함수 등이 존재한다.
2. 단일행 함수는 SELECT절, WHERE절, HAVING절 어디서든 사용가능
3. 단일행 함수는 입력 값 하나당 하나의 결과를 리턴
4. 문자 함수
    - LOWER(컬럼명이나 문자열) : 입력받은 데이터를 소문자로 변환 후 반환
    - UPPER(컬럼명이나 문자열) : 입력받은 데이터를 대문자로 변환 후 반환
    - INITCAP(컬럼명이나 문자열) : 입력받은 데이터의 첫 글자는 대문자로 나머지 글자는 소문자로 변환 후 반환
5. 문자 연산 함수
    - CONCAT(문자열1, 문자열2) : 문자열 결합 함수. 오라클에는 || 문자열 결합 연산자때문에 활용도가 떨어진다. 두 개의 문자열만 매개변수로 입력 가능하다.
    - SUBSTR(문자열, 시작위치, 개수) : 문자열을 시작위치부터 개수만큼 자른 새로운 문자열을 반환
    - LENGTH(문자열) : 문자열의 길이를 반환
    - LENGTHB(문자열) : 문자열의 길이를 byte단위로 반환
    - INSTR(문자열, 지정문자) : 문자열에서 지정한 문자의 위치를 반환
    - TRIM(leading FROM 문자열) : 접두어를 잘라서 반환
      TRIM(trailing FROM 문자열) : 접미사를 잘라서 반환
      TRIM(both FROM 문자열) : 접두어와 접미사를 잘라서 반환
      TRIM(문자열) : 공백이 제거된 새로운 문자열 반환
    - LPAD(문자열, 길이, 채울문자) : 지정된 길이만큼 문자열에서 빈공간에 지정한 문자로 앞에서부터 채워서 반환
    - RPAD(문자열, 길이, 채울문자) : 지정된 길이만큼 문자열에서 빈공간에 지정한 문자로 뒤에서부터 채워서 반환
6. 문자 치환 함수
    - TRANSLATE(문자열, 치환될 문자, 치환할 문자) : 문자열에 치환될 문자를 치환할 문자로 치환한 새로운 문자열 반환
    - REPLACE(문자열, 치환될 문자열, 치환할 문자열) : 문자열에서 치환될 문자열을 치환할 문자열로 치환한 후 새로운 문자열을 반환
7. 숫자 함수
    - ROUND(실수, 표시할 소수점 자리수) : 표시할 소수점 자리수까지 반올림한 수를 반환
    - TRUNC(실수, 표시할 소수점 자리수) : 표시할 소수점 자리수 이후의 숫자를 버린 수를 반환
    - MOD(m, n) : m을 n으로 나눈 나머지 값 반환
    - POWER(m, n) : m의 n승 값을 반환
    - CEIL(m) : m보다 큰 제일 작은 정수를 반환
    - FLOOR(m) : m보다 작은 제일 큰 정수를 반환
    - ABS(m) : m의 절대 값 반환(무조건 양수 반환)
    - SQRT(m) : m의 제곱근 값 반환
    - SIGN(m) : m이 음수면 -1, 양수면 1, 0이면 0을 반환. 부호 판단 함수
8. 날짜 데이터 연산
    - 오라클에서는 날짜를 6byte로 연산
    - DATE 자료형은 기본적으로 'YYYY/MM/DD HH24:mi:ss'의 형식을 가지고 있다.
    - 출력할 날짜의 형식 변경은 ALTER SESSION SET NLS_DATE_FORMAT = '변경할 날짜형식'
    - ALTER SESSION : 현재 DB에 연결된 세션의 정보를 변경.
    - NLS_DATE_FORMAT : 날짜 출력 형식
9. 날짜 연산
    - 날짜 + 숫자 : 숫자 일만큼이 날짜에 더해진 새로운 날짜 반환. 숫자 일만큼 이후의 날짜.
    - 날짜 - 숫자 : 숫자 일만큼이 날짜에서 뺴진 새로운 날짜 반환.
    숫자 일만큼 이전의 날짜.
    - 날짜 + 숫자 / 24 : 숫자 시간만큼이 날짜에 더해진 새로운 날짜 반환. 숫자 시간만큼 이후의 날짜.
    - 날짜 - 숫자 / 24 : 숫자 시간만큼이 날짜에 빼진 새로운 날짜 반환. 숫자 시간만큼 이전의 날짜.
    - 날짜 - 날짜 : 두 날짜간의 차이가 일수로 반환
10. 날짜 함수
    - ROUND(날짜, 날짜단위(년도, 월, 일, 시, 분, 초)) : 지정한 단위까지의 날짜를 빼서 가져오고 나머지 단위들은 초기화된 상태로 출력. 날짜의 상태에 따라서 반올림(시간이 정오가 지났으면 다음일의 날짜, 일이 15일 이상 지났을 때는 다음 월이 나온다.)
    ex) ROUND(SYSDATE, 'yyyy') -> 20230101 00:00:00  
        ROUND(SYSDATE, 'mi') -> 20230413 16:00:00
    - TRUNC(날짜, 날짜단위(년도, 월, 일, 시, 분, 초)) : 지정한 단위까지의 날짜를 빼서 가져오고 나머지 단위들은 초기화된 상태로 출력. 날짜의 상태에 따라서 버림.
    ex) ROUND(SYSDATE, 'yyyy') -> 20230101 00:00:00  
        ROUND(SYSDATE, 'mi') -> 20230413 16:00:00
    - MONTHS_BETWEEN(날짜1, 날짜2) : 날짜1에서 날짜2를 뺀 만큼의 일수를 개월수로 치환하여 반환
    - ADD_MONTHS(날짜, 숫자) : 날짜에 숫자 개월만큼 더한 날짜를 반환. 숫자 개월 만큼의 후의 날짜
    - NEXT_DAY(날짜, 요일) : 날짜 이후의 지정된 요일에 해당하는 날짜를 반환
    - LAST_DAY(날짜) : 날짜를 포함하고 있는 달의 마지막 날짜 반환